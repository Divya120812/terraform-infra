name: Run AWS Bootstrap             # reusable
on:
  workflow_dispatch:        # This gives you the "Run workflow" button
    inputs:
      environment:
        description: "Environment name (dev, stage, prod)"
        required: true
        default: dev
      application:
        description: "Application name"
        required: true
        default: terraform-infra
      region:
        description: "AWS region"
        required: true
        default: us-east-1

permissions:
  id-token: write
  contents: read

jobs:
  call-bootstrap:
    uses: Divya120812/terraform-infra/.github/workflows/aws_account_bootstrap.yaml@main
    with:
      environment: ${{ github.event.inputs.environment }}
      application: ${{ github.event.inputs.application }}
      region: ${{ github.event.inputs.region }}
    secrets: inherit
